const redditUrl = "https://www.reddit.com/search.json?q=cats+nsfw:no"


document.addEventListener('DOMContentLoaded', () => {

    form.addEventListener('submit', (e) => {
        e.preventDefault()

        const search = redditUrl+input.value.replaceAll(" " ,  "+") + "+nsfw:no"


        fetch (search)
            .then((searchData) => {
                return searchData.json()
            })

            .then(imageJson => {
                const differentImage = (imgSrc) => {
                    imgSrc = imageJson.children[Math.floor(Math.random() * +imageJson.children)].data.thumbnail
                
                nextImage.src = imgSrc
                }
            
                differentImage ()
                let slideshowImages = setInterval(differentImage, 5000) 
                })
        
        .catch(console.warn)

    })
    
})
 
// to hide the buttons
    
    const hidden = () => {
        form.style.display = "none"
        title.style.display = "none"
        imageContainer.style.visibility = "visible"
        nextImage.style.visibility = "visible"
    }

